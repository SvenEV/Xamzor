@implements IDataTemplate<object>

<Grid Parent="PARENT" ColumnDefinitions="@Columns("*", "*")">

    <StackPanel Parent="PARENT">
        <LayoutController Update="StateHasChanged" Title="StackPanel" Ref="_stack"
                            ShowOrientation="true" />

        <LayoutController Update="StateHasChanged" Title="Red Box" Ref="_box1" />
        <LayoutController Update="StateHasChanged" Title="Yellow Box" Ref="_box2" />
        <LayoutController Update="StateHasChanged" Title="Green Box" Ref="_box3" />
    </StackPanel>

    <Border Parent="PARENT"
            Column="1"
            BorderBrush="black"
            BorderThickness="T(2)">

        <StackPanel Parent="PARENT" Orientation="_stack.TheOrientation"
                    HorizontalAlignment="_stack.TheHorizontalAlignment"
                    VerticalAlignment="_stack.TheVerticalAlignment">
            
            <Border Parent="PARENT"
                    Background="red"
                    MinWidth="100" MinHeight="100"
                    HorizontalAlignment="_box1.TheHorizontalAlignment"
                    VerticalAlignment="_box1.TheVerticalAlignment" />

            <Border Parent="PARENT"
                    Background="yellow"
                    MinWidth="150" MinHeight="50"
                    HorizontalAlignment="_box2.TheHorizontalAlignment"
                    VerticalAlignment="_box2.TheVerticalAlignment" />
            
            <Border Parent="PARENT"
                    Background="green"
                    MinWidth="50" MinHeight="150"
                    HorizontalAlignment="_box3.TheHorizontalAlignment"
                    VerticalAlignment="_box3.TheVerticalAlignment" />

        </StackPanel>
    </Border>

</Grid>

@functions{
    public object DataContext { get; set; }

    public UIElement Parent { get; set; }

    private LayoutController _stack;
    private LayoutController _box1;
    private LayoutController _box2;
    private LayoutController _box3;
}